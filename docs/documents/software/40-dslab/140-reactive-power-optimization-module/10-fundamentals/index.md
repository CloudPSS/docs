---
title: 基本原理
description: DSLab 源网荷储协同仿真平台-无功优化基本原理
sidebar_position: 10
# draft: true
tags:
- dslab
- function
---

本节主要介绍 DSLab 平台无功优化的基本原理。

## 功能定义

在 DSLab 源网荷储协同仿真平台中，通过无功优化计算模块优化配电网内无功功率的分布情况，包括无功优化方案配置和无功优化计算，首先需要配置无功优化目标、约束条件、优化措施，形成配电网无功优化模型，进而对无功优化模型求解，在满足配电网系统运行约束的条件下，通过调整并网分布式电源的机端电压、调整有载变压器变比或者无功补偿设备容量等措施，来优化配电网内无功功率的分布情况，从而提高馈线节点电压稳定性，减少系统功率损耗。

## 功能说明

### 可支持的优化目标

无功优化内核能同时支持单目标及多目标优化，主要的优化目标包括支路有功功率损耗和节点电压偏差。将系统支路有功功率损耗和节点电压偏差最小作为目标函数，采用罚因子的方式将多目标的无功优化模型转变成单目标的优化模型。同时也具备方便的扩展能力，可以快速接入新的无功优化目标模型。优化目标可以表示为以下公式：

$$
\min f(x) = \sum_{i}^{L} R_i \frac{P_i^2 + Q_i^2}{U_i^2} + \lambda \max \left| U_i - U_{ref} \right|
$$

式中：
- $R_i$ 是支路电阻；
- $P_i$ 和 $Q_i$ 分别是支路的有功功率和无功功率；
- $U_i$ 是节点 $i$ 上的电压幅值；
- $U_{ref}$ 是节点参考电压。


### 可支持的约束条件

无功优化内核需要考虑的约束条件主要包括三类：

1. 物理模型约束

   物理模型约束主要是指配电系统中各个设备/负荷以及系统网络的机理模型（包含非线性模型），风机、光伏、电动汽车、储能系统等分布式电源的出力模型（需要考虑风速、光照强度等气象条件的影响）。网络模型约束则包括电气系统的节点功率平衡约束，潮流方程约束。

   组成物理模型的基本物理量包括电压、电流、功率等。物理模型是方便扩展和接入的，当有新的设备类型接入时，可以做到灵活扩展。

1. 电气方程约束

   电气方程约束主要包括节点功率平衡约束，潮流方程约束（非线性）：

   $$
   P_{\text{Iinj}} = P_{\text{IDG}} + P_{\text{IEN}} - P_{\text{ILOAD}}
   $$
   $$
   Q_{\text{Iinj}} = Q_{\text{IDG}} + Q_{\text{IEN}} - Q_{\text{ILOAD}}
   $$

   $$
   P_i = |V_i| \sum_{j=1}^{n} |V_j| (G_{ij} \cos \theta_{ij} + B_{ij} \sin \theta_{ij})
   $$
   $$
   Q_i = |V_i| \sum_{j=1}^{n} |V_j| (G_{ij} \sin \theta_{ij} - B_{ij} \cos \theta_{ij})
   $$

1. 运行工况约束

   运行工况约束主要包括每种设备/负荷的工况条件约束，包括电气系统中各节点电压的上下限，支路电流的热稳定约束等。其中需要特别说明的是无功补偿设备，其约束条件包括无功补偿装置容量约束，可调变压器变比约束，最大调节频次等。

### 可支持的决策变量

规划设计场景下，支持各设备的选型方案（包括无功补偿装置，调压器，可调变压器）、容量大小以及典型运行方式作为决策变量。其中选型方案是指设备的配置型号（来源于待选设备池中的信息），容量大小以设备的配置台数来表现（单机容量由用户输入），调压器需要选择容量及最大调节范围，有载调压器需要考虑运行调节策略。

这里对设备的运行方式进一步展开说明，其具体内容包含以下四个方面：
- **分布式电源的出力调节**：能源设备的出力调节需要支持多种形式，比如对风机、光伏可以控制当前启停的设备台数，对燃气发电机等可以控制其运行的挡位。
- **联络开关等中间设备的状态调节**：可以支持联络开关的状态调节，其开闭状态可能会影响整个系统的运行方式，优化内核对可能出现的孤岛系统进行正确的处理和计算。
- **储能设备的状态调节**：对储能设备，可以按照固定的时间周期为间隔，调节其在整个周期内的充放能曲线。
- **可变负荷的调节**：对于可变负荷，其负荷曲线也可作为决策变量参与优化。