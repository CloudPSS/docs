---
title: 计算方案配置
description: DSLab 源网荷储协同仿真平台-负荷预测模块-计算方案配置
sidebar_position: 20
tags:
- dslab
- function
---

本节主要介绍 DSLab 源网荷储协同仿真平台进行负荷预测时需要设置的计算全局参数，包括开始与结束预测时间、预测模式、负荷预测算法以及相关运行参数设置等。

## 功能定义

设置 DSLab 负荷预测的一些计算全局参数。

## 功能说明

在运行标签页，选中计算方案中的**负荷预测方案**，可对负荷预测方案进行设置。目前源网荷储的负荷预测参数组分为基本设置和运行设置，下面分别对其进行介绍。

![负荷预测计算方案](./configuration.png "负荷预测计算方案")

### 基本设置

负荷预测基本设置的参数如下图所示：

![负荷预测基本设置](./basic.png "负荷预测基本设置")

| 参数名 | 含义 | 说明 |
| :--- | :--- | :--- | 
| 计算方案类型 | 计算的功能类型 | 可选项为**负荷预测**（默认值）、**负荷层级分析**、**发电预测**、**发电增长系数生成** 负荷层级分析为负荷预测算法-增长因子法的前置数据预处理，分析生产配电系统的变电站、馈线和负荷的层级关系，方便用户编辑对应层级的增长因子；发电增长系数生成，为发电预测算法-增长因子法的前置数据预处理。|
| 开始预测时间 | 系统负荷预测的开始时间 | 默认设置为 **2022-01-01 00:00:00** ，输入格式为 `yyyy-mm-dd hh:mm:ss` |
| 结束预测时间 | 系统负荷预测的结束时间 | 默认设置为 **2022-12-31 23:00:00** ，输入格式为 `yyyy-mm-dd hh:mm:ss` |
| 负荷预测算法 | 负荷预测所选用的算法 | 可选项为**增长因子法**（默认值）、 **ARIMA**、**Prophet**、**MLP多层感知机神经网络**、**LSTM**、**GRU**、**DLinear**、**NLinear**；选择增长因子法时，使用默认增长因子，若用户需自定义增长因子，可先运行**负荷层级分析**，然后对变电站参数编辑、馈线参数编辑和用户参数编辑进行编辑|
| 变量类型 | 选择单或多变量预测 | 可选项为**单变量预测**和**多变量预测**，增长因子法、 ARIMA、Prophet、MLP多层感知机神经网络仅支持单变量预测；LSTM、GRU、DLinear、NLinear算法支持单、多变量预测 |
| 预测变量 | 多选，多变量预测时的基础变量 | 可选项为**土壤温度**、**辐照强度**、**环境温度**、**10m风速** 、**50m风速**等气象数据 |
| 发电增长系数 | 指定电源增长因子 | 默认为空 |
| 预测层级 | 指定负荷预测层级 | 可选项为**变电站级负荷预测**(默认值)、**馈线级负荷预测**和**用户级负荷预测**|
| 变电站参数编辑 | 指定变电站增长因子 | 默认为空 |
| 馈线参数编辑 | 指定馈线增长因子 | 默认为空 |
| 用户参数编辑 | 指定用户负荷增长因子 | 默认为空 |


### 运行设置

负荷预测运行设置的参数如下图所示：

![负荷预测运行设置](./run.png "负荷预测运行设置")

| 参数名 | 含义 | 说明 |
| :--- | :--- | :--- | 
| 任务队列 | 任务运行使用的队列 | 默认设置为**默认队列** |
| 计算资源 | 任务运行使用的计算资源 | 默认设置为**1逻辑核心** |
| 优先级 | 任务运行的优先级 | 默认值为 0 |
| 调试参数 | 任务调试时使用的调试参数 | 默认为空 |

## 常见问题

什么时候需要进行负荷层级分析（发电增长系数生成）?
:   负荷层级分析为选择增长因子法时的前置数据预处理，分析生产配电系统的变电站、馈线和负荷的层级关系，方便用户编辑对应层级的增长因子。选择增长因子法时，建议用户先进行负荷层级分析，系统会根据拓扑自动生成**变电站参数编辑**、**馈线参数编辑**和**用户参数编辑**的默认参数方案，用户可采用 excel 的编辑方式对默认参数方案进行修改，如下图所示。用户也可直接进行参数编辑，但需保证名称列的输入与对应拓扑元件名称一致。
发电增长系数生成同理。
![负荷层级分析后系统自动生成的默认参数方案](./growth_factor.png "负荷层级分析后系统自动生成的默认参数方案")


预测算法应该怎么选?
:   1. 增长因子法：传统经验预测方法，根据用户输入的增长率进行负荷预测;选择增长因子法时，请先进行系统层级分析经典的数学统计预测方法；2. ARIMA：整合移动平均自回归ARIMA模型，对数据质量要求极高，在数据平滑质量高时预测效果很好； 3. 基于时间序列分解拟合和机器学习的Prophet模型，对数据质量要求不高，最好提供一年以上数据； 4. 多层感知机MLP神经网络通过训练，几乎能够对各类负荷进行训练及预测； 5. 长短时记忆网络LSTM是最经典的处理时序数据的循环神经网络RNN模型之一。模型训练对计算资源要求高，推荐变电站层级使用； 6. 门控循环单元GRU:与LSTM原理作用均类似，模型更简单。模型训练对计算资源要求高，推荐变电站层级使用；7. DLinear是一种基于时序分解的线性时序预测模型；
8. NLinear是一种基于数据标准化的线性时序预测模型


为什么预测耗时长?
:   在负荷预测时，一般经历一下步骤：数据清洗等预处理、数据特征工程、模型训练、模型预测，而模型训练实际受模型参数量、负荷数据量、计算服务器性能（GPU、CPU、TPU、内存等）等影响，可能耗时较长；建议：1. 选择参数量少的模型。如增长因子法、DLinear、NLinear和多层感知机MLP等；2. 选择数据量少的层级，如变电站层级等